# 标准模版库 STL

C++ STL（标准模板库）是一套功能强大的 C++ 模板类，提供了通用的模板类和函数，这些模板类和函数可以实现多种流行和常用的算法和数据结构。

vector 的底层为顺序表（数组），list 的底层为双向链表，deque 的底层为循环队列，set 的底层为红黑树，hash_set 的底层为哈希表

C++ 标准模板库的核心包括以下三个组件：

| 组件                | 描述                                                         |
| :------------------ | :----------------------------------------------------------- |
| 容器（Containers）  | 容器是用来管理某一类对象的集合。C++ 提供了各种不同类型的容器，比如 deque、list、vector、map 等。 |
| 算法（Algorithms）  | 算法作用于容器。它们提供了执行各种操作的方式，包括对容器内容执行初始化、排序、搜索和转换等操作。 |
| 迭代器（iterators） | 迭代器用于遍历对象集合的元素。这些集合可能是容器，也可能是容器的子集。 |

## 来源

http://c.biancheng.net/stl/

## 向量 vector

向量容器（一个 C++ 标准的模板），它与数组十分相似

不同的是，向量在需要扩展大小的时候，会自动处理它自己的存储需求

```c++
#include <iostream>
#include <vector>
using namespace std;

int main()
{
   vector<int> vec;            // 创建一个向量存储 int
   cout << vec.size() << endl; // vec 的原始大小为 0

   // 推入 5 个值到向量中
   for (int i = 0; i < 5; i++)
   {
      vec.push_back(i);
   }
   cout << vec.size() << endl; // vec 扩展后的大小为 5

   // 访问向量中的 5 个值
   for (int i = 0; i < 5; i++)
   {
      cout << vec[i] << " "; // 0 1 2 3 4
   }
   cout << endl;

   // 使用迭代器 iterator 访问值
   vector<int>::iterator v = vec.begin();
   while (v != vec.end())
   {
      cout << *v << " "; // 0 1 2 3 4
      v++;
   }

   return 0;
}
```

### capacity 和 size 属性区别

在 STL 中，拥有 capacity 属性的容器只有 vector 和 string

**size** 是当前 vector 容器真实占用的大小，也就是容器当前拥有多少个容器。

**capacity** 是指在发生 realloc 前能允许的最大元素数，即预分配的内存空间。

使用 **resize()** ，size 和 capacity 都变化到指定大小；容器内的对象内存空间是真正存在的。

使用 **reserve()** ，只修改 capacity 的值；容器内的对象并没有真实的内存空间(空间是"野"的)。

```c++
#include <iostream>
#include <vector>

using namespace std;

int main(void)
{
   vector<int> vec;
   cout << "size: " << vec.size() << " capacity: " << vec.capacity() << endl;
   // size: 0 capacity: 0

   vec.push_back(0);
   cout << "size: " << vec.size() << " capacity: " << vec.capacity() << endl;
   // size: 1 capacity: 1

   vec.reserve(10);
   cout << "size: " << vec.size() << " capacity: " << vec.capacity() << endl;
   // size: 1 capacity: 10

   vec.resize(10);
   cout << "size: " << vec.size() << " capacity: " << vec.capacity() << endl;
   // size: 10 capacity: 10

   vec.push_back(0);
   cout << "size: " << vec.size() << " capacity: " << vec.capacity() << endl;
   // size: 11 capacity: 20

   return 0;
}
```

