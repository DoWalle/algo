# 引用

引用变量是一个别名，也就是说，它是某个已存在变量的另一个名字。

引用很容易与指针混淆，它们之间有三个主要的不同：

- 不存在空引用。引用必须连接到一块合法的内存。
- 一旦引用被初始化为一个对象，就不能被指向到另一个对象。指针可以在任何时候指向到另一个对象。
- 引用必须在创建时被初始化。指针可以在任何时间被初始化。

```c++
// 声明变量
int i = 5;
double d = 9.9;

// 声明引用变量
int &r = i;    // r 是一个初始化为 i 的整型引用
double &s = d; // s 是一个初始化为 d 的 double 型引用

cout << "val: " << i << " ";
cout << "reference: " << r << endl;
// val: 5 reference: 5

cout << "val: " << d << " ";
cout << "reference: " << s << endl;
// al: 9.9 reference: 9.9
```

## 引用作为入参

```c++
#include <iostream>
using namespace std;

// 函数声明
void swap(int &x, int &y);

int main()
{
    // 局部变量声明
    int a = 100;
    int b = 200;
    cout << a << " " << b << endl; // 100 200

    /* 调用函数来交换值 */
    swap(a, b);
    cout << a << " " << b << endl; // 200 100

    return 0;
}

// 函数定义
void swap(int &x, int &y)
{
    int temp;
    temp = x;
    x = y;
    y = temp;
}
```

## 引用作为出参

```c++
#include <iostream>

using namespace std;

int vals[] = {5, 7, 3, 1};

int &setValues(int i)
{
    int &ref = vals[i];
    return ref; // 返回第 i 个元素的引用，ref 是一个引用变量，ref 引用 vals[i]
}

// 要调用上面定义函数的主函数
int main()
{

    cout << "Before: ";
    for (int i = 0; i < 5; i++)
    {
        cout << vals[i] << " ";
    }
    cout << endl; // 5 7 3 1 0

    setValues(1) = 99;
    setValues(3) = 88;

    cout << "After: ";
    for (int i = 0; i < 5; i++)
    {
        cout << vals[i] << " ";
    }
    cout << endl; // 5 99 3 88 0
    return 0;
}
```

