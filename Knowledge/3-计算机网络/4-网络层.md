# 网络层

<img src="./doc/4-0.png" alt="4-0" style="zoom:50%;" />

## 4.1 网络层功能

互联网在网络层的设计思想是，向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务。

![4-1](./doc/4-1.png)

<img src="./doc/4-16.png" alt="4-16" style="zoom:40%;" />

<img src="./doc/4-17.png" alt="4-17" style="zoom:50%;" />

## 4.2 路由算法

![4-2](./doc/4-2.png)

距离-向量路由算法与链路状态路由算法的比较：

- 在「距离-向量路由算法」中，每个结点仅与它的**直接邻居交谈**，它为它的邻居提供从自己到网络中**所有其他结点的最低费用估计**。

- 在「链路状态路由算法」中，每个结点通过广播的方式**与所有其他结点交谈**，但它仅告诉它们**与它直接相连的链路**的费用。

相较之下，距离-向量路由算法有可能遇到路由环路等问题。

![4-3](./doc/4-3.png)

## 4.3 IPv4

![4-4](./doc/4-4.png)

![4-5](./doc/4-5.png)

![4-6](./doc/4-6.png)

![4-7](./doc/4-7.png)

![4-8](./doc/4-8.png)

## 4.4 IPv6

![4-9](./doc/4-9.png)

## 4.5 路由协议

![4-10](./doc/4-10.png)

![4-11](./doc/4-11.png)

![4-12](./doc/4-12.png)

## 4.6 IP组播

![4-13](./doc/4-13.png)

## 4.7 移动IP

![4-14](./doc/4-14.png)

## 4.8 网络层设备

![4-15](./doc/4-15.png)